!function e(t,n,a){function r(s,o){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,a)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(e,t){function n(e){"use strict";this.element=e,this.data={},this.chunkCount=6,this.chunkSize=null,this.chunkStart=null}n.prototype.parseData=function(e){"use strict";this.data=JSON.parse(e);var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return this.data.topics.forEach(function(e){e.volume<t&&(t=e.volume),e.volume>n&&(n=e.volume)}),this.chunkSize=Math.ceil((n-t)/this.chunkCount),this.chunkStart=t,this},n.prototype.render=function(){"use strict";if(null===this.data)throw new Error("Dataset has not yet been set and is null. Please add data using the WordCloud.parseData method.");var e=document.createElement("ul"),t=this;return this.data.topics.forEach(function(n){var a=document.createElement("li"),r=document.createElement("a");r.innerHTML=n.label,r.href="#",r.classList.add("topic"),r.classList.add(t.getSizeClass(n.volume)),r.classList.add(t.getSentimentClass(n.sentimentScore)),r.dataSet={},r.dataSet.label=n.label,r.dataSet.total=n.volume,r.dataSet.positive=n.sentiment.positive||null,r.dataSet.neutral=n.sentiment.neutral||null,r.dataSet.negative=n.sentiment.negative||null,r.addEventListener("click",t.handleClick,!0),a.appendChild(r),a.appendChild(t.createInfoPane(r.dataSet)),e.appendChild(a)}),this.element.innerHTML="",this.element.appendChild(e),this},n.prototype.handleClick=function(e){"use strict";e.preventDefault();for(var t="show-info",n=document.getElementsByClassName(t),a=0;a<n.length;a++)n[a].classList.remove(t);e.target.nextSibling.classList.toggle(t)},n.prototype.createInfoPane=function(e){"use strict";var t=document.createElement("div");t.className="infopane-container";var n=document.createElement("ul");for(var a in e)if(e.hasOwnProperty(a)){var r=document.createElement("li");null!==e[a]&&(r.innerHTML="label"!==a?a+' : <span class="'+a+'">'+e[a]+"</span>":"<h2>"+e[a]+"</h2>",n.appendChild(r))}var i=document.createElement("a");return i.innerHTML="x",i.classList.add("close"),i.href="#",i.addEventListener("click",function(){i.parentElement.classList.remove("show-info")}),t.appendChild(i),t.appendChild(n),t},n.prototype.getSentimentClass=function(e){"use strict";return e>60?"high-sentiment":40>e?"low-sentiment":"neutral-sentiment"},n.prototype.getSizeClass=function(e){"use strict";for(var t=1;t<=this.chunkCount;t++)if(e<=this.chunkSize*t+this.chunkStart)return"size-"+t;throw new Error("Failed to assign the topic a size. This would be caused by the parseData method failing to break the chunks up properly.",e)};var t=void 0===t?{}:t;t.exports=n},{}],2:[function(e){!function(){"use strict";var t=e("./brandwatch.wordcloud"),n=new t(document.getElementById("word-cloud")),a=new XMLHttpRequest;a.open("GET","/topics",!0),a.send(),a.onload=function(){if(200!==a.status)throw new Error("Failed to retrieve topics.");n.parseData(JSON.parse(a.responseText)).render()}}()},{"./brandwatch.wordcloud":1}]},{},[2]);